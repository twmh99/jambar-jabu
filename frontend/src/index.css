@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================================
   ðŸŽ¨ THEME: SMPJ (Navy & Gold â€“ Corporate Minimalist)
   =========================================== */
@layer base {
  :root {
    /* Brand palette */
    --primary: 212 64% 13%; /* Navy */
    --primary-foreground: 210 40% 98%;
    --accent: 46 82% 52%; /* Gold */
    --accent-foreground: 222 47% 11%;

    /* Surfaces */
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;
    --muted: 214 15% 92%;
    --muted-foreground: 220 9% 36%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* States */
    --success: 160 84% 39%;
    --warning: 35 92% 55%;
    --destructive: 0 72% 51%;

    /* Border & elevation */
    --ring: 46 82% 52%;
    --border: 214 15% 88%;
    --input: 214 15% 88%;

    /* Radius & shadow */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --shadow-soft: 0 6px 18px -8px hsl(var(--primary) / 0.2);
    --shadow-elevated: 0 12px 30px -12px hsl(var(--primary) / 0.35);

    --transition-smooth: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slower: 360ms cubic-bezier(0.2, 0.8, 0.2, 1);
  }

  .dark {
    --background: 220 16% 7%;
    --foreground: 210 40% 98%;
    --card: 220 16% 9%;
    --card-foreground: 210 40% 98%;
    --muted: 220 16% 14%;
    --muted-foreground: 216 12% 72%;
    --primary: 212 68% 18%;
    --accent: 46 82% 56%;
    --border: 220 16% 18%;
    --input: 220 16% 18%;
  }

  html, body, #root {
    height: 100%;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-feature-settings: "cv02","cv03","cv04","cv11";
  }

  body {
    @apply antialiased;
    font-family: "Open Sans", ui-sans-serif, system-ui;
    line-height: 1.6;
  }

  h1,h2,h3,h4,h5,h6 {
    font-family: "Poppins", ui-sans-serif, system-ui;
  }

  ::selection {
    background: hsl(var(--accent) / 0.25);
    color: hsl(var(--foreground));
  }

  *:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.45);
    border-radius: 6px;
    transition: box-shadow var(--transition-smooth);
  }

  /* Scrollbar minimalis */
  ::-webkit-scrollbar { width: 10px; height: 10px; }
  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground));
    border-radius: 8px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--primary));
  }
}

/* ===========================================
   ðŸ§± COMPONENT STYLES
   =========================================== */
@layer components {
  .ds-card {
    @apply bg-[hsl(var(--card))] text-[hsl(var(--card-foreground))] rounded-[var(--radius-md)] border border-[hsl(var(--border))] shadow-[var(--shadow-soft)] p-4 hover:shadow-[var(--shadow-elevated)] transition;
  }

  .ds-btn {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-[var(--radius-sm)] px-4 py-2 text-sm font-medium transition-all duration-200 cursor-pointer;
  }
  .ds-btn-primary {
    @apply bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))];
  }
  .ds-btn-primary:hover { background-color: hsl(var(--primary) / 0.9); }

  .ds-btn-accent {
    @apply bg-[hsl(var(--accent))] text-[hsl(var(--accent-foreground))];
  }
  .ds-btn-accent:hover { background-color: hsl(var(--accent) / 0.9); }

  .ds-btn-outline {
    @apply border border-[hsl(var(--border))] bg-transparent text-[hsl(var(--foreground))];
  }
  .ds-btn-outline:hover { background-color: hsl(var(--muted)); }

  .ds-badge {
    @apply inline-flex items-center gap-1 rounded-[var(--radius-sm)] bg-[hsl(var(--muted))] px-2 py-1 text-xs text-[hsl(var(--muted-foreground))];
  }

  .ds-input {
    @apply w-full rounded-[var(--radius-sm)] border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 text-sm placeholder:text-[hsl(var(--muted-foreground))] focus:ring-2 focus:ring-[hsl(var(--ring))] outline-none transition;
  }

  .ds-label {
    @apply text-sm font-medium text-[hsl(var(--muted-foreground))];
  }

  /* Table */
  table { @apply w-full text-sm border-collapse; }
  th {
    @apply text-left font-semibold border-b border-[hsl(var(--border))] pb-2 text-[hsl(var(--muted-foreground))];
  }
  td { @apply py-2 border-b border-[hsl(var(--muted))]; }
  tr:hover td { background-color: hsl(var(--muted) / 0.3); }

  /* Modal backdrop & toast */
  .ds-modal-backdrop { @apply fixed inset-0 bg-black/40 flex items-center justify-center z-50; }
  .toast-success { @apply bg-[hsl(var(--success))] text-white shadow-[var(--shadow-elevated)]; }
  .toast-error { @apply bg-[hsl(var(--destructive))] text-white shadow-[var(--shadow-elevated)]; }
  .toast-info { @apply bg-[hsl(var(--primary))] text-white shadow-[var(--shadow-elevated)]; }

  /* Icon hover fix */
  button i.fa-solid {
    font-size: 14px;
    color: hsl(var(--primary));
    transition: color 0.2s ease, transform 0.15s ease;
  }
  button:hover i.fa-pen { color: hsl(var(--accent)); transform: scale(1.15); }
  button:hover i.fa-trash { color: hsl(var(--destructive)); transform: scale(1.15); }
}

/* Animations */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.animate-fadeIn { animation: fadeIn 0.2s ease-out; }
.animate-scaleIn { animation: scaleIn 0.25s ease-out; }

html, body {
  overflow-y: auto !important;
  overflow-x: hidden;
}

/* =========================================================
   ðŸ§­ FIX GLOBAL OVERFLOW â€” HILANGKAN SCROLL KE SAMPING MODAL
   ========================================================= */
.modal-container,
.modal-backdrop,
body,
html {
  overflow-x: hidden !important;
}

/* Pastikan semua konten di dalam modal tidak bisa keluar batas */
.modal-container * {
  max-width: 100% !important;
  box-sizing: border-box;
}

/* Cegah hover transform menambah lebar total (khusus tombol edit/delete) */
.btn-edit:hover,
.btn-delete:hover,
.btn-verify:hover {
  transform: none !important;
}
