@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design System Tokens - HSL only */
@layer base {
  :root {
    /* Brand palette (Restaurant Jambar Jabu) */
    /* Navy #0C1E35 ≈ hsl(212 64% 13%) */
    --primary: 212 64% 13%;
    --primary-foreground: 210 40% 98%;

    /* Gold #E2B714 ≈ hsl(46 82% 52%) */
    --accent: 46 82% 52%;
    --accent-foreground: 222 47% 11%;

    /* Surfaces */
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;
    --muted: 214 15% 92%;
    --muted-foreground: 220 9% 36%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* States */
    --success: 160 84% 39%;
    --warning: 35 92% 55%;
    --destructive: 0 72% 51%;

    /* Rings & borders */
    --ring: 46 82% 52%;
    --border: 214 15% 88%;
    --input: 214 15% 88%;

    /* Elevation, radii, motion */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;

    --shadow-elevated: 0 12px 30px -12px hsl(var(--primary) / 0.35);
    --shadow-soft: 0 6px 18px -8px hsl(var(--primary) / 0.2);

    --transition-smooth: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slower: 360ms cubic-bezier(0.2, 0.8, 0.2, 1);

    /* Gradients (subtle, limited use) */
    --gradient-header: linear-gradient(135deg, hsl(212 64% 13%), hsl(210 30% 20%));
    --gradient-accent: linear-gradient(120deg, hsl(46 82% 52%), hsl(46 74% 45%));
  }

  .dark {
    --background: 220 16% 7%;
    --foreground: 210 40% 98%;
    --card: 220 16% 9%;
    --card-foreground: 210 40% 98%;
    --popover: 220 16% 9%;
    --popover-foreground: 210 40% 98%;

    --muted: 220 16% 14%;
    --muted-foreground: 216 12% 72%;

    --primary: 212 68% 18%;
    --primary-foreground: 210 40% 98%;

    --accent: 46 82% 56%;
    --accent-foreground: 220 16% 9%;

    --ring: 46 82% 56%;
    --border: 220 16% 18%;
    --input: 220 16% 18%;

    --shadow-elevated: 0 12px 30px -12px hsl(var(--accent) / 0.35);
    --shadow-soft: 0 6px 18px -8px hsl(var(--primary) / 0.28);
  }

  html, body, #root {
    height: 100%;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-feature-settings: "cv02","cv03","cv04","cv11";
  }

  /* Typography */
  :root { --font-display: "Poppins", ui-sans-serif, system-ui; --font-body: "Open Sans", ui-sans-serif, system-ui; }
  body { font-family: var(--font-body); }
  h1,h2,h3,h4,h5,h6 { font-family: var(--font-display); }

  /* Focus ring */
  *:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.45);
    border-radius: 6px;
    transition: box-shadow var(--transition-smooth);
  }

  /* Selection */
  ::selection {
    background: hsl(var(--accent) / 0.25);
    color: hsl(var(--foreground));
  }

  /* Subtle grain overlay utility */
  .noise-overlay {
    position: relative;
  }
  .noise-overlay::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.035"/></svg>');
  }
}

@layer components {
  .ds-card {
    @apply bg-card text-card-foreground rounded-[var(--radius-md)] border border-[hsl(var(--border))] shadow-[var(--shadow-soft)];
  }
  .ds-btn {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-[var(--radius-sm)] px-4 py-2 text-sm font-medium transition-colors duration-200;
  }
  .ds-btn-primary { @apply bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] hover:bg-[hsl(var(--primary)/0.92)] focus-visible:ring-2; }
  .ds-btn-accent { @apply bg-[hsl(var(--accent))] text-[hsl(var(--accent-foreground))] hover:bg-[hsl(var(--accent)/0.92)] focus-visible:ring-2; }
  .ds-btn-outline { @apply border border-[hsl(var(--border))] bg-transparent text-[hsl(var(--foreground))] hover:bg-[hsl(var(--muted))]; }
  .ds-badge { @apply inline-flex items-center gap-1 rounded-[var(--radius-sm)] bg-[hsl(var(--muted))] px-2 py-1 text-xs text-[hsl(var(--muted-foreground))]; }
  .ds-input { @apply w-full rounded-[var(--radius-sm)] border border-[hsl(var(--input))] bg-background px-3 py-2 text-sm placeholder:text-[hsl(var(--muted-foreground))] focus-visible:ring-2; }
  .ds-label { @apply text-sm font-medium text-[hsl(var(--muted-foreground))]; }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes scaleIn {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
.animate-fadeIn {
  animation: fadeIn 0.2s ease-out;
}
.animate-scaleIn {
  animation: scaleIn 0.25s ease-out;
}
